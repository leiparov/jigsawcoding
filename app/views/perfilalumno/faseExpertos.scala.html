@* faseExpertos Template File *@
@(problema : models.entities.Problema)
@main(menuAlumno()){
	<!-- Firebase -->
	<script src="https://cdn.firebase.com/js/client/1.0.17/firebase.js"></script>
	
	<!-- CodeMirror and its JavaScript mode file -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/4.5.0/codemirror.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/4.5.0/mode/javascript/javascript.js"></script>
	<script src="@routes.Assets.at("js/codemirror-clike-python.js")" type="text/javascript"></script>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/4.5.0/codemirror.css" />
	
	<!-- Firepad -->
	<link rel="stylesheet" href="https://cdn.firebase.com/libs/firepad/1.0.0/firepad.css" />
	<script src="https://cdn.firebase.com/libs/firepad/1.0.0/firepad.min.js"></script>
	
	
	<style type="text/css">
	#firepad {
	  width: 100%;
	  height: 450px;
	  background-color: #f62; /* dark orange background */	  
	}
	</style>
	
	
	<div class="col-md-3">
		<h1>@problema.getTitulo()</h1>
		<div class="">@problema.getEnunciado()</div>
	</div>
	<div class="col-md-6">
		<div id="firepad"></div>
	</div>
	<div class="col-md-2">
		@interfazChat()
	</div>
	
	<script>
		function init() {
			// Initialize Firebase.
			//var firepadRef = getExampleRef();
			// TODO: Replace above line with:
			url = 'https://vivid-heat-5073.firebaseio.com/firepads/problema'+@problema.getId();
			var firepadRef = new Firebase(url);

			//// Create CodeMirror (with line numbers and the Java mode).
			var codeMirror = CodeMirror(document
					.getElementById('firepad'), {
				lineNumbers : true,
				lineWrapping : true,
				mode : 'text/x-c++src'
			});

			//// Create Firepad.
			var firepad = Firepad.fromCodeMirror(firepadRef,codeMirror,
							{
								defaultText : 'Hello, World!'
							});
		}

		// Helper to get hash from end of URL or generate a random one.
		function getExampleRef() {
			var ref = new Firebase('https://firepad.firebaseio-demo.com');
			var hash = window.location.hash.replace(/#/g, '');
			if (hash) {
				ref = ref.child(hash);
			} else {
				ref = ref.push(); // generate unique location.
				window.location = window.location + '#' + ref.name(); // add it as a hash to the URL.
			}
			if (typeof console !== 'undefined')
				console.log('Firebase data: ', ref.toString());
			return ref;
		}

		init();
	</script>
}

@* lsitaExamenes Template File *@
@(examenes: List[models.entities.Examen], alumno: models.entities.Alumno)
@formatDate(date: java.util.Date, f: String) = @{
    if(date != null) date.format(f) else "--"
}
@dioExamen(examen: models.entities.Examen, alumno: models.entities.Alumno) = @{
	(new models.services.ExamenService).existeNotaExamen(alumno, examen)
}
@main(menuAlumno()){
	<div class="container">
		
		@inputs.panel("Examenes", true){
			@inputs.flashSuccessError()
			@if(examenes.size() ==0 ){
            	<div class="well">Ud. no tiene examenes</div>
            }else{
				<table class="table table-bordered">
				<tr>
                    <th>Examen</th>
                    
                    <th>Acciones</th>
                </tr>
	                @examenes.map{ examen => 
	                	<tr>
	                        <td>@examen.getTitulo</td>	                        
	                        <td>	                        
	                             @if(examen.getTiempoApertura != null){
	                                 @if(dioExamen(examen, alumno) || (new java.util.Date).after(examen.getTiempoClausura)){
	     	                            <a href="@routes.ExamenController.interfazResultados(examen.getId)">Resultados</a> 
	                                 }else{
	                                     @if((new java.util.Date).after(examen.getTiempoApertura)){
	         	                            <a href="@routes.ExamenController.interfazRendir(examen.getId)">Rendir</a>
	                                     }
	                                 }
	                             }
	                        </td>
	                    </tr>
	                }
                }
                
			</table>
		}
	</div>
}